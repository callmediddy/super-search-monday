{"ast":null,"code":"var _jsxFileName = \"/Users/akhand/Developer/power-search/quickstart-react/src/views/HistoryView.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useHistory, Link } from \"react-router-dom\";\nimport { PageHeader, Row, Col, List, Divider, Spin } from 'antd';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport mondaySdk from \"monday-sdk-js\";\nconst monday = mondaySdk();\n\nconst HistoryView = () => {\n  const [searchHistory, setSearchHistory] = useState([]);\n  const [dataLoading, setDataLoading] = useState(true);\n  const [isMounted, setIsMounted] = useState(false);\n  const backButton = useHistory();\n  const antIcon = /*#__PURE__*/React.createElement(LoadingOutlined, {\n    style: {\n      fontSize: 56\n    },\n    spin: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 21\n    }\n  });\n\n  function clickBackButton() {\n    backButton.push('/');\n  }\n\n  useEffect(() => {\n    setDataLoading(true);\n    loadSearchHistory(); // setSearchHistory()\n\n    setDataLoading(false);\n\n    if (!isMounted) {\n      setIsMounted(true);\n    }\n  }, [searchHistory, isMounted]);\n\n  async function loadSearchHistory() {\n    let resp = await monday.storage.instance.getItem('mop');\n\n    if (!resp || !resp.data) {\n      return;\n    } else {\n      if (resp.data.value !== null) {\n        let history = resp.data.value;\n        setSearchHistory(JSON.parse(history));\n      }\n    } //\n\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PageHeader, {\n    className: \"site-page-header\",\n    onBack: clickBackButton,\n    title: \"Super Search History\",\n    subTitle: \"View your past searches, all stored securely on monday.com!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"site-statistic-demo-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, dataLoading ? /*#__PURE__*/React.createElement(Row, {\n    gutter: 16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    flex: \"auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Divider, {\n    orientation: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, \"Past searches...\"), /*#__PURE__*/React.createElement(List //   header={<div>Header</div>}\n  //   footer={<div>Footer</div>}\n  , {\n    bordered: true,\n    dataSource: searchHistory,\n    renderItem: (item, idx) => /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: '/search',\n        state: {\n          question: item\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(List.Item, {\n      key: idx,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 29\n      }\n    }, item)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }))) : /*#__PURE__*/React.createElement(Row, {\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Spin, {\n    indicator: antIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default HistoryView;","map":{"version":3,"sources":["/Users/akhand/Developer/power-search/quickstart-react/src/views/HistoryView.js"],"names":["React","useState","useEffect","useHistory","Link","PageHeader","Row","Col","List","Divider","Spin","LoadingOutlined","mondaySdk","monday","HistoryView","searchHistory","setSearchHistory","dataLoading","setDataLoading","isMounted","setIsMounted","backButton","antIcon","fontSize","clickBackButton","push","loadSearchHistory","resp","storage","instance","getItem","data","value","history","JSON","parse","item","idx","pathname","state","question"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory, Link } from \"react-router-dom\";\nimport {  PageHeader, Row, Col, List, Divider, Spin} from 'antd';\nimport { LoadingOutlined } from '@ant-design/icons';\n\nimport mondaySdk from \"monday-sdk-js\";\n\nconst monday = mondaySdk();\n\n\n\nconst HistoryView = () => {\n\n    const [searchHistory, setSearchHistory] = useState([])\n    const [dataLoading, setDataLoading] = useState(true)\n    const [isMounted, setIsMounted] = useState(false)\n    const backButton = useHistory()\n    const antIcon = <LoadingOutlined style={{ fontSize: 56 }} spin />;\n\n    function clickBackButton(){\n        backButton.push('/')\n    }\n\n    useEffect(() =>{\n        setDataLoading(true)\n        loadSearchHistory()\n        // setSearchHistory()\n        setDataLoading(false)\n        if(!isMounted){\n            setIsMounted(true)\n        }\n    }, [searchHistory, isMounted])\n\n\n    async function loadSearchHistory(){\n        let resp = await monday.storage.instance.getItem('mop')\n        if(!resp || !resp.data){\n            return\n        } else {\n            if(resp.data.value !== null){\n                let history = resp.data.value;\n                setSearchHistory(JSON.parse(history))\n            }\n        }\n        //\n    }\n\n    return (\n        <div className=\"container\">\n            <PageHeader\n                className=\"site-page-header\"\n                onBack={clickBackButton}\n                title=\"Super Search History\"\n                subTitle=\"View your past searches, all stored securely on monday.com!\"\n            />\n            <div className=\"site-statistic-demo-card\">\n            {\n                dataLoading ? \n        \n                    \n                <Row gutter={16}>\n                    <Col flex=\"auto\">\n                <Divider orientation=\"left\">Past searches...</Divider>\n                <List\n                //   header={<div>Header</div>}\n                //   footer={<div>Footer</div>}\n                  bordered\n                  dataSource={searchHistory}\n                  renderItem={(item, idx) => (\n                      <Link to={{\n                          pathname: '/search',\n                          state: {\n                              question: item\n                          }\n                      }}>\n                            <List.Item key={idx}>\n                                {item}\n                            </List.Item>\n                      </Link>\n\n                  )}\n                />\n                </Col>\n                </Row> :\n                <Row justify=\"center\">\n                    <Spin indicator={antIcon} />\n\n                </Row>\n            }\n            </div>\n        </div>\n    )\n}\n\nexport default HistoryView\n"]},"metadata":{},"sourceType":"module"}