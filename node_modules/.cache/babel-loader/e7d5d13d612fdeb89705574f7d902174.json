{"ast":null,"code":"var _jsxFileName = \"/Users/akhand/Developer/power-search/quickstart-react/src/views/HistoryView.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { PageHeader, Input, AutoComplete, Menu, Row, Col, Empty, Select, Collapse, List, Typography, Divider } from 'antd';\nimport mondaySdk from \"monday-sdk-js\";\nconst {\n  Search\n} = Input;\nconst {\n  Option\n} = Select;\nconst {\n  Panel\n} = Collapse;\nconst monday = mondaySdk();\n\nconst HistoryView = () => {\n  const [searchHistory, setSearchHistory] = useState([]);\n  const [dataLoading, setDataLoading] = useState(true);\n  const [isMounted, setIsMounted] = useState(false);\n  const backButton = useHistory();\n\n  function clickBackButton() {\n    backButton.push('/');\n  }\n\n  useEffect(() => {\n    setDataLoading(true);\n    loadSearchHistory(); // setSearchHistory()\n\n    setDataLoading(false);\n\n    if (!isMounted) {\n      setIsMounted(true);\n    }\n  }, [searchHistory]);\n\n  async function loadSearchHistory() {\n    let resp = await monday.storage.instance.getItem('mop');\n\n    if (!resp || !resp.data) {\n      return;\n    } else {\n      if (resp.data.value !== null) {\n        let history = resp.data.value;\n        setSearchHistory(JSON.parse(history));\n      }\n    } //\n\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PageHeader, {\n    className: \"site-page-header\",\n    onBack: clickBackButton,\n    title: \"Super Search History\",\n    subTitle: \"View your past searches, all stored securely on monday.com!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"site-statistic-demo-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, dataLoading ? /*#__PURE__*/React.createElement(\"p1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 31\n    }\n  }, \"Loading data...\") : /*#__PURE__*/React.createElement(Row, {\n    gutter: 16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    flex: \"auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Divider, {\n    orientation: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, \"Past searches...\"), /*#__PURE__*/React.createElement(List //   header={<div>Header</div>}\n  //   footer={<div>Footer</div>}\n  , {\n    bordered: true,\n    dataSource: searchHistory,\n    renderItem: (item, idx) => /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: '/search',\n        state: {\n          question: item\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(List.Item, {\n      key: idx,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 29\n      }\n    }, item)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  })))));\n};\n\nexport default HistoryView;","map":{"version":3,"sources":["/Users/akhand/Developer/power-search/quickstart-react/src/views/HistoryView.js"],"names":["React","useState","useEffect","useHistory","useParams","PageHeader","Input","AutoComplete","Menu","Row","Col","Empty","Select","Collapse","List","Typography","Divider","mondaySdk","Search","Option","Panel","monday","HistoryView","searchHistory","setSearchHistory","dataLoading","setDataLoading","isMounted","setIsMounted","backButton","clickBackButton","push","loadSearchHistory","resp","storage","instance","getItem","data","value","history","JSON","parse","item","idx","pathname","state","question"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory, useParams } from \"react-router-dom\";\nimport {  PageHeader, Input, AutoComplete, Menu, Row, Col, Empty, Select, Collapse, List, Typography, Divider} from 'antd';\n\nimport mondaySdk from \"monday-sdk-js\";\nconst { Search } = Input;\nconst { Option } = Select;\nconst { Panel } = Collapse;\n\nconst monday = mondaySdk();\n\n\n\nconst HistoryView = () => {\n\n    const [searchHistory, setSearchHistory] = useState([])\n    const [dataLoading, setDataLoading] = useState(true)\n    const [isMounted, setIsMounted] = useState(false)\n    const backButton = useHistory()\n    \n    function clickBackButton(){\n        backButton.push('/')\n    }\n\n    useEffect(() =>{\n        setDataLoading(true)\n        loadSearchHistory()\n        // setSearchHistory()\n        setDataLoading(false)\n        if(!isMounted){\n            setIsMounted(true)\n        }\n    }, [searchHistory])\n\n\n    async function loadSearchHistory(){\n        let resp = await monday.storage.instance.getItem('mop')\n        if(!resp || !resp.data){\n            return\n        } else {\n            if(resp.data.value !== null){\n                let history = resp.data.value;\n                setSearchHistory(JSON.parse(history))\n            }\n        }\n        //\n    }\n\n    return (\n        <div className=\"container\">\n            <PageHeader\n                className=\"site-page-header\"\n                onBack={clickBackButton}\n                title=\"Super Search History\"\n                subTitle=\"View your past searches, all stored securely on monday.com!\"\n            />\n            <div className=\"site-statistic-demo-card\">\n            {\n                dataLoading ? <p1>Loading data...</p1>: \n                <Row gutter={16}>\n                    <Col flex=\"auto\">\n                <Divider orientation=\"left\">Past searches...</Divider>\n                <List\n                //   header={<div>Header</div>}\n                //   footer={<div>Footer</div>}\n                  bordered\n                  dataSource={searchHistory}\n                  renderItem={(item, idx) => (\n                      <Link to={{\n                          pathname: '/search',\n                          state: {\n                              question: item\n                          }\n                      }}>\n                            <List.Item key={idx}>\n                                {item}\n                            </List.Item>\n                      </Link>\n\n                  )}\n                />\n                </Col>\n                </Row>\n            }\n            </div>\n        </div>\n    )\n}\n\nexport default HistoryView\n"]},"metadata":{},"sourceType":"module"}