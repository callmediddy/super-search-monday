{"ast":null,"code":"var _jsxFileName = \"/Users/akhand/Developer/power-search/quickstart-react/src/views/HistoryView.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { Button, PageHeader, Input, AutoComplete, Menu, Row, Col, Empty, Select, Collapse, Table, Radio } from 'antd';\nimport mondaySdk from \"monday-sdk-js\";\nconst {\n  Search\n} = Input;\nconst {\n  Option\n} = Select;\nconst {\n  Panel\n} = Collapse;\nconst monday = mondaySdk();\n\nconst HistoryView = () => {\n  const [searchHistory, setSearchHistory] = useState([]);\n  const [dataLoading, setDataLoading] = useState(true);\n  const [isMounted, setIsMounted] = useState(false);\n  const backButton = useHistory();\n\n  function clickBackButton() {\n    backButton.push('/');\n  }\n\n  useEffect(() => {\n    setDataLoading(true);\n    loadSearchHistory(); // setSearchHistory()\n\n    setDataLoading(false);\n    setIsMounted(true);\n  }, [searchHistory]);\n\n  async function loadSearchHistory() {\n    let resp = await monday.storage.instance.getItem('mop');\n\n    if (!resp || !resp.data) {\n      return;\n    } else {\n      if (resp.data.value !== null) {\n        let history = resp.data.value;\n        setSearchHistory(JSON.parse(history));\n      }\n    } //\n\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PageHeader, {\n    className: \"site-page-header\",\n    onBack: clickBackButton,\n    title: \"Super Search History\",\n    subTitle: \"View your past searches, all stored securely on monday.com!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default HistoryView;","map":{"version":3,"sources":["/Users/akhand/Developer/power-search/quickstart-react/src/views/HistoryView.js"],"names":["React","useState","useEffect","useHistory","useParams","Button","PageHeader","Input","AutoComplete","Menu","Row","Col","Empty","Select","Collapse","Table","Radio","mondaySdk","Search","Option","Panel","monday","HistoryView","searchHistory","setSearchHistory","dataLoading","setDataLoading","isMounted","setIsMounted","backButton","clickBackButton","push","loadSearchHistory","resp","storage","instance","getItem","data","value","history","JSON","parse"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,kBAAtC;AACA,SAASC,MAAT,EAAiBC,UAAjB,EAA6BC,KAA7B,EAAoCC,YAApC,EAAkDC,IAAlD,EAAwDC,GAAxD,EAA6DC,GAA7D,EAAkEC,KAAlE,EAAyEC,MAAzE,EAAiFC,QAAjF,EAA2FC,KAA3F,EAAkGC,KAAlG,QAA+G,MAA/G;AAEA,OAAOC,SAAP,MAAsB,eAAtB;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAaX,KAAnB;AACA,MAAM;AAAEY,EAAAA;AAAF,IAAaN,MAAnB;AACA,MAAM;AAAEO,EAAAA;AAAF,IAAYN,QAAlB;AAEA,MAAMO,MAAM,GAAGJ,SAAS,EAAxB;;AAIA,MAAMK,WAAW,GAAG,MAAM;AAEtB,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCvB,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAACwB,WAAD,EAAcC,cAAd,IAAgCzB,QAAQ,CAAC,IAAD,CAA9C;AACA,QAAM,CAAC0B,SAAD,EAAYC,YAAZ,IAA4B3B,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM4B,UAAU,GAAG1B,UAAU,EAA7B;;AAEA,WAAS2B,eAAT,GAA0B;AACtBD,IAAAA,UAAU,CAACE,IAAX,CAAgB,GAAhB;AACH;;AAED7B,EAAAA,SAAS,CAAC,MAAK;AACXwB,IAAAA,cAAc,CAAC,IAAD,CAAd;AACAM,IAAAA,iBAAiB,GAFN,CAGX;;AACAN,IAAAA,cAAc,CAAC,KAAD,CAAd;AACAE,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACH,GANQ,EAMN,CAACL,aAAD,CANM,CAAT;;AASA,iBAAeS,iBAAf,GAAkC;AAC9B,QAAIC,IAAI,GAAG,MAAMZ,MAAM,CAACa,OAAP,CAAeC,QAAf,CAAwBC,OAAxB,CAAgC,KAAhC,CAAjB;;AACA,QAAG,CAACH,IAAD,IAAS,CAACA,IAAI,CAACI,IAAlB,EAAuB;AACnB;AACH,KAFD,MAEO;AACH,UAAGJ,IAAI,CAACI,IAAL,CAAUC,KAAV,KAAoB,IAAvB,EAA4B;AACxB,YAAIC,OAAO,GAAGN,IAAI,CAACI,IAAL,CAAUC,KAAxB;AACAd,QAAAA,gBAAgB,CAACgB,IAAI,CAACC,KAAL,CAAWF,OAAX,CAAD,CAAhB;AACH;AACJ,KAT6B,CAU9B;;AACH;;AAED,sBACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AACI,IAAA,SAAS,EAAC,kBADd;AAEI,IAAA,MAAM,EAAET,eAFZ;AAGI,IAAA,KAAK,EAAC,sBAHV;AAII,IAAA,QAAQ,EAAC,6DAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;AAUH,CA3CD;;AA6CA,eAAeR,WAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { Button, PageHeader, Input, AutoComplete, Menu, Row, Col, Empty, Select, Collapse, Table, Radio } from 'antd';\n\nimport mondaySdk from \"monday-sdk-js\";\nconst { Search } = Input;\nconst { Option } = Select;\nconst { Panel } = Collapse;\n\nconst monday = mondaySdk();\n\n\n\nconst HistoryView = () => {\n\n    const [searchHistory, setSearchHistory] = useState([])\n    const [dataLoading, setDataLoading] = useState(true)\n    const [isMounted, setIsMounted] = useState(false)\n    const backButton = useHistory()\n    \n    function clickBackButton(){\n        backButton.push('/')\n    }\n\n    useEffect(() =>{\n        setDataLoading(true)\n        loadSearchHistory()\n        // setSearchHistory()\n        setDataLoading(false)\n        setIsMounted(true)\n    }, [searchHistory])\n\n\n    async function loadSearchHistory(){\n        let resp = await monday.storage.instance.getItem('mop')\n        if(!resp || !resp.data){\n            return\n        } else {\n            if(resp.data.value !== null){\n                let history = resp.data.value;\n                setSearchHistory(JSON.parse(history))\n            }\n        }\n        //\n    }\n\n    return (\n        <div className=\"container\">\n            <PageHeader\n                className=\"site-page-header\"\n                onBack={clickBackButton}\n                title=\"Super Search History\"\n                subTitle=\"View your past searches, all stored securely on monday.com!\"\n            />\n        </div>\n    )\n}\n\nexport default HistoryView\n"]},"metadata":{},"sourceType":"module"}