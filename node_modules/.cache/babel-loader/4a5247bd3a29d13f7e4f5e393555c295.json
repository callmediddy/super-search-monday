{"ast":null,"code":"var _jsxFileName = \"/Users/akhand/Developer/power-search/quickstart-react/src/views/OptionSelection.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useHistory, useParams, Link } from 'react-router-dom';\nimport { Layout, Menu, Table, Empty, Input, Select, Button, Row, Col, Result, Divider, Card, Avatar, Statistic } from 'antd';\nimport { CompassTwoTone, DeleteOutlined, EditOutlined, EllipsisOutlined, PlayCircleTwoTone, ArrowUpOutlined, ArrowDownOutlined } from '@ant-design/icons';\nimport mondaySdk from \"monday-sdk-js\";\nconst {\n  SubMenu\n} = Menu;\nconst {\n  Option\n} = Select;\nconst {\n  Header,\n  Content,\n  Footer,\n  Sider\n} = Layout;\nconst {\n  Meta\n} = Card;\nconst monday = mondaySdk();\n\nconst OptionSelection = () => {\n  const [isSaved, setIsSaved] = useState(false);\n  const [savedSearches, setSavedSearches] = useState([]);\n  const [isMounted, setIsMounted] = useState([]);\n  const [isDataLoading, setIsDataLoading] = useState(false);\n  useEffect(() => {\n    setIsDataLoading(true); // Fetch previously saved data\n\n    loadSavedItems();\n    setIsDataLoading(false);\n    setIsMounted(true);\n  }, []);\n\n  async function loadSavedItems() {\n    let resp = await monday.storage.instance.getItem('hug');\n\n    if (!resp || !resp.data) {\n      return;\n    } else {\n      if (resp.data.value !== null) {\n        let saved = resp.data.value;\n        setSavedSearches(JSON.parse(saved));\n        setIsSaved(true);\n      }\n    } // console.log(history)\n    // setSearchHistory(history)\n\n  }\n\n  useEffect(() => {\n    if (isMounted) {\n      console.log(savedSearches);\n    }\n  }, [savedSearches]);\n  useEffect(() => {\n    if (isMounted) {// console.log(savedSearches)\n      // Do nothing\n    }\n  }, [isSaved]);\n  useEffect(() => {\n    if (isMounted) {// console.log(savedSearches)\n      // Do nothing\n    }\n  }, [isDataLoading]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"site-statistic-demo-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    gutter: 16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    flex: \"auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Result, {\n    icon: /*#__PURE__*/React.createElement(CompassTwoTone, {\n      twoToneColor: \"#ff3d57\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 35\n      }\n    }),\n    title: \"Let's begin with Super Search\",\n    subTitle: \"or you can choose to run a search from the past...\",\n    extra: [/*#__PURE__*/React.createElement(Link, {\n      to: \"/search\",\n      key: \"0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      key: \"console\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 33\n      }\n    }, \"Go to Super Search\")), /*#__PURE__*/React.createElement(Link, {\n      to: \"/view/history\",\n      key: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 33\n      }\n    }, \"View Search History\"))],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Row, {\n    gutter: 16,\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    flex: \"auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Divider, {\n    orientation: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }, \"Saved Searches\")), isSaved ? /*#__PURE__*/React.createElement(Row, {\n    gutter: 16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }, savedSearches.map(item => /*#__PURE__*/React.createElement(Col, {\n    span: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    actions: [/*#__PURE__*/React.createElement(PlayCircleTwoTone, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(EditOutlined, {\n      key: \"edit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(DeleteOutlined, {\n      key: \"delete\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 33\n      }\n    })],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Meta, {\n    avatar: /*#__PURE__*/React.createElement(Avatar, {\n      style: {\n        backgroundColor: '#1890ff'\n      },\n      icon: /*#__PURE__*/React.createElement(CompassTwoTone, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 94\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 41\n      }\n    }),\n    title: item.query,\n    description: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 37\n      }\n    }, \"Hello\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 29\n    }\n  }))))) : /*#__PURE__*/React.createElement(Row, {\n    gutter: [16, 24],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    flex: \"auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Empty, {\n    description: /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 41\n      }\n    }, \"Saved searches appear here\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 37\n    }\n  })))))));\n};\n\nexport default OptionSelection;","map":{"version":3,"sources":["/Users/akhand/Developer/power-search/quickstart-react/src/views/OptionSelection.js"],"names":["React","useState","useEffect","useHistory","useParams","Link","Layout","Menu","Table","Empty","Input","Select","Button","Row","Col","Result","Divider","Card","Avatar","Statistic","CompassTwoTone","DeleteOutlined","EditOutlined","EllipsisOutlined","PlayCircleTwoTone","ArrowUpOutlined","ArrowDownOutlined","mondaySdk","SubMenu","Option","Header","Content","Footer","Sider","Meta","monday","OptionSelection","isSaved","setIsSaved","savedSearches","setSavedSearches","isMounted","setIsMounted","isDataLoading","setIsDataLoading","loadSavedItems","resp","storage","instance","getItem","data","value","saved","JSON","parse","console","log","map","item","backgroundColor","query"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory, useParams, Link } from 'react-router-dom';\nimport { Layout, Menu, Table, Empty, Input, Select, Button, Row, Col, Result, Divider, Card, Avatar, Statistic} from 'antd';\nimport { CompassTwoTone, DeleteOutlined, EditOutlined, EllipsisOutlined, PlayCircleTwoTone, ArrowUpOutlined, ArrowDownOutlined  } from '@ant-design/icons';\nimport mondaySdk from \"monday-sdk-js\";\n\nconst { SubMenu } = Menu;\nconst { Option } = Select;\nconst { Header, Content, Footer, Sider } = Layout;\nconst { Meta } = Card;\n\nconst monday = mondaySdk();\n\nconst OptionSelection = () => {\n\n    const [isSaved, setIsSaved] = useState(false)\n    const [savedSearches, setSavedSearches] = useState([])\n    const [isMounted, setIsMounted] = useState([])\n    const [isDataLoading, setIsDataLoading] = useState(false)\n    useEffect(() => {\n        setIsDataLoading(true)\n        // Fetch previously saved data\n        loadSavedItems()\n        setIsDataLoading(false)\n        setIsMounted(true)\n    }, [])\n\n    async function loadSavedItems(){\n        let resp = await monday.storage.instance.getItem('hug')\n        if(!resp || !resp.data){\n            return\n        } else {\n            if(resp.data.value !== null){\n                let saved = resp.data.value;\n                setSavedSearches(JSON.parse(saved))\n                setIsSaved(true)\n            }\n        }\n        // console.log(history)\n        // setSearchHistory(history)\n    }\n\n    useEffect(() => {\n        if(isMounted){\n            console.log(savedSearches)\n        }\n    }, [savedSearches])\n\n    useEffect(() => {\n        if(isMounted){\n            // console.log(savedSearches)\n            // Do nothing\n        }\n    }, [isSaved])\n\n    useEffect(() => {\n        if(isMounted){\n            // console.log(savedSearches)\n            // Do nothing\n        }\n    }, [isDataLoading])\n\n\n    return (\n        <div className=\"container\">\n            <div className=\"site-statistic-demo-card\">\n                <Row gutter={16}>\n                    <Col flex=\"auto\">\n                        <Result\n                            icon={<CompassTwoTone twoToneColor=\"#ff3d57\" />}\n                            title=\"Let's begin with Super Search\"\n                            subTitle=\"or you can choose to run a search from the past...\"\n                            extra={[\n                            <Link to=\"/search\" key=\"0\">\n                                <Button type=\"primary\" key=\"console\">\n                                    Go to Super Search\n                                </Button>\n                            </Link>,\n                            <Link to=\"/view/history\" key=\"2\">\n                                <Button>View Search History</Button>\n                            </Link>,\n                            ]}\n                        />\n                    </Col>\n                </Row>\n                <Row gutter={16} justify=\"center\">\n                    <Col flex=\"auto\">\n                    <Divider orientation=\"left\">\n                        <h3>Saved Searches</h3>\n                    </Divider>\n                    {isSaved ? \n                        <Row gutter={16}>\n                            {savedSearches.map(item => (\n                            <Col span={6}>\n                            <Card\n                                actions={[\n                                <PlayCircleTwoTone />,\n                                <EditOutlined key=\"edit\" />,\n                                <DeleteOutlined key=\"delete\" />,\n                                ]}\n                            >\n                            <Meta\n                                avatar={<Avatar style={{ backgroundColor: '#1890ff' }} icon={<CompassTwoTone />} />}\n                                \n                                title={item.query}\n                                description={\n                                    <div>\n                                        Hello\n                                    </div>\n                                }\n                                />\n                            </Card>\n                            </Col>\n                            ))}\n                        </Row>\n                        :\n                            <Row gutter={[16, 24]}>\n                                <Col flex=\"auto\">\n                                    <Empty\n                                        description={\n                                        <span>\n                                            Saved searches appear here\n                                        </span>\n                                        }\n                                    >\n                                    </Empty> \n                                </Col>\n                            </Row>\n                        }\n                    </Col>\n                </Row>\n            </div>\n        </div>\n    )\n\n}\n\nexport default OptionSelection;"]},"metadata":{},"sourceType":"module"}