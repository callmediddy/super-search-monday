(this["webpackJsonpmonday-integration-quickstart-app"]=this["webpackJsonpmonday-integration-quickstart-app"]||[]).push([[0],{412:function(e,t,a){e.exports=a.p+"static/media/logo_small.189e6820.png"},479:function(e,t,a){e.exports=a(651)},484:function(e,t,a){},485:function(e,t,a){},490:function(e,t){},491:function(e,t){},536:function(e,t){},632:function(e,t,a){e.exports=a.p+"static/media/logo.41d668c2.png"},651:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(73),s=a.n(c),u=(a(484),a(11)),o=a(22),l=a(88),i=a(87),m=a(141),p=a(70),f=(a(485),a(15)),b=a.n(f),d=a(21),h=a(6),E=a(145),y=a(660),O=a(170),j=a(662),g=a(207),v=a(121),x=a(656),k=a(288),S=a(205),w=a(658),I=a(146),N=a(666),C=a(667),q=a(668),A=a(669),T=(a(649),a(198)),z=a.n(T),G=a(313),J=z()(),B=E.a.Option,_=y.a.Panel,M=a(650),P=function(e){var t=Object(n.useState)(!1),a=Object(h.a)(t,2),c=a[0],s=a[1],u=Object(n.useState)(!1),o=Object(h.a)(u,2),l=o[0],i=o[1],m=Object(n.useState)([]),f=Object(h.a)(m,2),T=f[0],z=f[1],P=Object(n.useState)([]),V=Object(h.a)(P,2),L=V[0],R=V[1],D=Object(n.useState)({}),H=Object(h.a)(D,2),K=H[0],W=H[1],F=Object(n.useState)({}),$=Object(h.a)(F,2),Q=$[0],U=$[1],X=Object(n.useState)(""),Y=Object(h.a)(X,2),Z=Y[0],ee=Y[1],te=Object(n.useState)(!1),ae=Object(h.a)(te,2),ne=ae[0],re=ae[1],ce=Object(n.useState)(""),se=Object(h.a)(ce,2),ue=se[0],oe=se[1],le=Object(n.useState)(),ie=Object(h.a)(le,2),me=ie[0],pe=ie[1],fe=Object(n.useState)(e.location.state.question?e.location.state.question:""),be=Object(h.a)(fe,2),de=be[0],he=be[1],Ee=Object(n.useState)([]),ye=Object(h.a)(Ee,2),Oe=ye[0],je=ye[1],ge=Object(n.useState)([]),ve=Object(h.a)(ge,2),xe=ve[0],ke=ve[1],Se=Object(n.useState)([]),we=Object(h.a)(Se,2),Ie=we[0],Ne=we[1],Ce=Object(n.useState)([]),qe=Object(h.a)(Ce,2),Ae=qe[0],Te=qe[1],ze=Object(n.useState)(e.location.state.groups?e.location.state.groups:["All Groups"]),Ge=Object(h.a)(ze,2),Je=Ge[0],Be=Ge[1],_e=Object(n.useState)(e.location.state.columns?e.location.state.columns:["All Columns"]),Me=Object(h.a)(_e,2),Pe=Me[0],Ve=Me[1],Le=Object(n.useState)(e.location.state.searchType?e.location.state.searchType:"question"),Re=Object(h.a)(Le,2),De=Re[0],He=Re[1],Ke=Object(n.useState)(!1),We=Object(h.a)(Ke,2),Fe=We[0],$e=We[1],Qe=Object(n.useState)({}),Ue=Object(h.a)(Qe,2),Xe=Ue[0],Ye=Ue[1],Ze=Object(n.useState)({}),et=Object(h.a)(Ze,2),tt=(et[0],et[1],Object(n.useState)([])),at=Object(h.a)(tt,2),nt=at[0],rt=at[1],ct=Object(n.useState)([]),st=Object(h.a)(ct,2),ut=st[0],ot=st[1],lt=Object(p.f)(),it=[{label:r.a.createElement(N.a,null),value:!1},{label:r.a.createElement(C.a,null),value:!0}],mt=r.a.createElement(E.a,{mode:"multiple",style:{width:"100%"},placeholder:"select one country",defaultValue:Je,onChange:function(e){e.length>1&&"All Groups"===e[0]&&e.splice(0,1);0===e.length&&e.push("All Groups");Be(e)},optionLabelProp:"label",value:Je},T.map((function(e,t){return r.a.createElement(B,{value:e.id,label:e.title,key:t},r.a.createElement("div",{className:"demo-option-label-item"},e.title))}))),pt={includeMatches:!0,keys:["name","column_values.text"]},ft={includeMatches:!0,keys:["name","column_values.text"]},bt=r.a.createElement(E.a,{mode:"multiple",style:{width:"100%"},placeholder:"select one country",defaultValue:Pe,onChange:function(e){e.length>1&&"All Columns"===e[0]&&e.splice(0,1);0===e.length&&e.push("All Columns");Ve(e)},optionLabelProp:"label",value:Pe},L.map((function(e,t){return r.a.createElement(B,{value:e.id,label:e.title,key:t},r.a.createElement("div",{className:"demo-option-label-item"},e.title))}))),dt=r.a.createElement(E.a,{defaultValue:"question",style:{width:"100%"},onSelect:function(e){He(e)}},r.a.createElement(B,{value:"question"},"Ask Anything"),r.a.createElement(B,{value:"fuzzy"},"Fuzzy Search"),r.a.createElement(B,{value:"keywords"},"Match Keywords"));function ht(e){return Et.apply(this,arguments)}function Et(){return(Et=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J.execute("openItemCard",{itemId:t.key});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(){return(yt=Object(d.a)(b.a.mark((function e(){var t,a,n,c,s,u,o,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Set(ut)).add(de),a=Array.from(t),ot(a),e.next=6,J.storage.instance.setItem("mop",JSON.stringify(a));case 6:if(e.sent,"question"!==De){e.next=17;break}if(i(!0),!me){e.next=15;break}return e.next=12,me.findAnswers(de,Z);case 12:n=e.sent,U(n),0===n.length?J.execute("notice",{message:"No results were found...",confirmButton:"Ask Teammates",cancelButton:"Dismiss",excludeCancelButton:!1,type:"error",timeout:1e4}).then((function(e){!0===e.confirm&&console.log("Send notification to users")})):J.execute("notice",{message:"There were "+n.length+" results found!",type:"success",timeout:1e4});case 15:e.next=25;break;case 17:for(c="fuzzy"===De?new G.a(K.boards[0].items,ft):new G.a(K.boards[0].items,pt),s=c.search(de),u=[],o=0;o<s.length;o++)u.push({key:s[o].item.id,name:s[o].item.name});l=[{title:"Item Name",dataIndex:"name",key:"name",render:function(e,t){return r.a.createElement(O.a,{type:"link",onClick:Object(d.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ht(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},e)}}],Ne(u),Te(l),0===s.length?J.execute("notice",{message:"No results were found...",type:"error",timeout:1e4}):J.execute("notice",{message:"There were "+s.length+" results found!",type:"success",timeout:1e4});case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ot(){return(Ot=Object(d.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Array.from(t),J.api("query {items(ids:[".concat(a,"], limit:10000) {id, name}}")).then((function(e){if(e.data&&e.data.items.length>0){for(var t=e.data.items,a=[],n=0;n<t.length;n++)a.push({key:t[n].id,name:t[n].name});var c=[{title:"Item Name",dataIndex:"name",key:"name",render:function(e,t){return r.a.createElement(O.a,{type:"link",onClick:Object(d.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ht(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},e)}}];Ne(a),Te(c)}}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(){return(jt=Object(d.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.load();case 2:t=e.sent,pe(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gt(){return(gt=Object(d.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.storage.instance.getItem("mop");case 2:if((t=e.sent)&&t.data){e.next=7;break}return e.abrupt("return");case 7:null!==t.data.value&&(a=t.data.value,ot(JSON.parse(a)));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(){return(vt=Object(d.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.storage.instance.getItem("boop");case 2:if(t=e.sent,a=[],t&&t.data){e.next=7;break}e.next=19;break;case 7:if(null===t.data.value){e.next=15;break}return(a=JSON.parse(t.data.value)).push(xt()),e.next=12,J.storage.instance.setItem("boop",JSON.stringify(a));case 12:e.sent,e.next=19;break;case 15:return a.push(xt()),e.next=18,J.storage.instance.setItem("boop",JSON.stringify(a));case 18:e.sent;case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xt(){return{query:de,groups:Je,columns:Pe,type:De}}function kt(){return St.apply(this,arguments)}function St(){return(St=Object(d.a)(b.a.mark((function e(){var t,a,n,r,c,s,u,o,l,i,m,p,f,d,h,E;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t="",a=K.boards[0].items,n=new Set(Pe),r=new Set(Je),c={},s=0,u=0,o=0;o<a.length;o++)if(l=a[o],r.has(l.group.id)||"All Groups"===Je[0]){for(i=a[o].name,m=a[o].id,s=t.length,t+="This is the entry for item "+i+".",p=0;p<l.column_values.length;p++)f=l.column_values[p],d=f.type,h=f.text,E=f.id,(n.has(E)||"All Columns"===Pe[0])&&("text"===d&&(t+=h),"date"===d&&(t+=". "+i+" is due on "+h+"."),"multiple-person"===d&&(t+=". "+i+" is assigned to "+h+"."),"status"===E&&(t+=". "+i+" task item is "+h+"."));u=t.length-1,c[[s,u]]=m}ee(t),Ye(c);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(e){return It.apply(this,arguments)}function It(){return(It=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:oe(t.data.boardIds[0]);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nt(){return(Nt=Object(d.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J.api("query {boards(ids:[".concat(ue,"]) {items(limit:10000) {id, name, group {id}, column_values {id, text, type, value, title}}}}")).then((function(e){W(e.data)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ct(){return(Ct=Object(d.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J.api("query { boards(ids: ".concat(ue,") { columns { id title } groups { id title }} } ")).then((function(e){z(e.data.boards[0].groups),R(e.data.boards[0].columns)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){ne&&function(){var e=[],t=[],a=new Set,n=Xe;if("question"===De){for(var r=function(t){e.push({Results:Q[t].text}),Object.keys(n).forEach((function(e){var r=e.split(","),c=parseInt(r[0]),s=parseInt(r[1]);Q[t].startIndex>=c&&Q[t].endIndex<=s&&a.add(parseInt(n[e]))}))},c=0;c<Q.length;c++)r(c);Q[0]&&t.push({title:"Results",dataIndex:"Results",key:"Results"})}je(e),ke(t),i(!1),function(e){Ot.apply(this,arguments)}(a)}()}),[Q]),Object(n.useEffect)((function(){}),[Oe]),Object(n.useEffect)((function(){}),[Ie,Ae]),Object(n.useEffect)((function(){}),[xe]),Object(n.useEffect)((function(){e.location,J.listen("context",wt),s(!0),function(){jt.apply(this,arguments)}(),function(){gt.apply(this,arguments)}(),re(!0),s(!1)}),[]),Object(n.useEffect)((function(){ne&&(s(!0),function(){Ct.apply(this,arguments)}(),function(){Nt.apply(this,arguments)}(),s(!1))}),[ue]),Object(n.useEffect)((function(){ne&&(s(!0),kt(),s(!1))}),[K]),Object(n.useEffect)((function(){}),[c]),Object(n.useEffect)((function(){}),[Xe]),Object(n.useEffect)((function(){}),[ut]),Object(n.useEffect)((function(){}),[Fe]),Object(n.useEffect)((function(){}),[De]),Object(n.useEffect)((function(){ne&&(s(!0),kt(),s(!1))}),[Pe,Je]),Object(n.useEffect)((function(){ne&&console.log(Z)}),[Z]),r.a.createElement("div",{className:"container"},r.a.createElement(j.a,{className:"site-page-header",onBack:function(){lt.push("/")},title:"Super Search",subTitle:"Get answers from your boards!"}),r.a.createElement("div",{className:"site-statistic-demo-card"},c?r.a.createElement(g.a,{gutter:[16,24],justify:"center"},r.a.createElement(q.a,{style:{fontSize:48},spin:!0})):r.a.createElement(g.a,{gutter:[16,24]},r.a.createElement(v.a,{flex:"auto"},r.a.createElement(x.a,{style:{width:"100%",height:"5em"},onSearch:function(e){var t=ut;e?t=t.filter((function(t){return t.match(e)})):t.slice(0,5),rt(t)},placeholder:"Search for a question, keyword or pattern",shape:"round",size:"large",suffix:r.a.createElement(A.a,{className:"site-form-item-icon"}),value:de,onChange:function(e){he(e)}},nt.map((function(e){return r.a.createElement(B,{key:e,value:e},e)})))),r.a.createElement(v.a,{span:4},r.a.createElement(O.a,{type:"primary",size:"large",shape:"round",block:!0,onClick:function(){return yt.apply(this,arguments)}},"Search"))),ue?r.a.createElement("div",{className:"container"},r.a.createElement(g.a,{gutter:[16,24]},r.a.createElement(v.a,{flex:"auto"},r.a.createElement(y.a,{defaultActiveKey:["0"],ghost:!0},r.a.createElement(_,{header:"Advanced Options",key:"1"},r.a.createElement(g.a,{gutter:16},r.a.createElement(v.a,{span:8},r.a.createElement("label",null,"Select groups"),mt),r.a.createElement(v.a,{span:8},r.a.createElement("label",null,"Select columns"),bt),r.a.createElement(v.a,{span:8},r.a.createElement("label",null,"Select type of search"),dt)))))),r.a.createElement(g.a,{gutter:[16,24]},r.a.createElement(v.a,{flex:"auto"},r.a.createElement(k.a.Group,{options:it,onChange:function(e){!1===e.target.value?$e(!1):$e(!0)},value:Fe,optionType:"button",buttonStyle:"solid"})),r.a.createElement(v.a,null,r.a.createElement(S.a,{placement:"topLeft",title:"Click to save search parameters"},r.a.createElement(O.a,{onClick:function(){return vt.apply(this,arguments)}},"Save Search")))),r.a.createElement(g.a,{gutter:[16,24]},r.a.createElement(v.a,{flex:"auto"},l?r.a.createElement(w.a,{loading:!0,dataSource:Oe,columns:xe}):Fe?r.a.createElement(w.a,{dataSource:Oe,columns:xe}):r.a.createElement(w.a,{dataSource:Ie,columns:Ae})))):r.a.createElement(g.a,{gutter:[16,24]},r.a.createElement(v.a,{flex:"auto"},r.a.createElement(I.a,{description:r.a.createElement("span",null,"Please select a board to continue...")})))))},V=a(286),L=a(657),R=a(664),D=z()(),H=function(){var e=Object(n.useState)([]),t=Object(h.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!0),u=Object(h.a)(s,2),o=u[0],l=u[1],i=Object(n.useState)(!1),f=Object(h.a)(i,2),E=f[0],y=f[1],O=Object(p.f)(),x=r.a.createElement(q.a,{style:{fontSize:56},spin:!0});function k(){return(k=Object(d.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.storage.instance.getItem("mop");case 2:if((t=e.sent)&&t.data){e.next=7;break}return e.abrupt("return");case 7:null!==t.data.value&&(a=t.data.value,c(JSON.parse(a)));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){l(!0),function(){k.apply(this,arguments)}(),l(!1),E||y(!0)}),[a,E]),r.a.createElement("div",{className:"container"},r.a.createElement(j.a,{className:"site-page-header",onBack:function(){O.push("/")},title:"Super Search History",subTitle:"View your past searches, all stored securely on monday.com!"}),r.a.createElement("div",{className:"site-statistic-demo-card"},o?r.a.createElement(g.a,{justify:"center"},r.a.createElement(V.a,{indicator:x})):r.a.createElement(g.a,{gutter:16},r.a.createElement(v.a,{flex:"auto"},r.a.createElement(L.a,{orientation:"left"},"Past searches..."),r.a.createElement(R.b,{bordered:!0,dataSource:a,renderItem:function(e,t){return r.a.createElement(m.b,{to:{pathname:"/search",state:{question:e}}},r.a.createElement(R.b.Item,{key:t},e))}})))))},K=a(24),W=a(659),F=a(663),$=a(661),Q=a(423),U=a(665),X=a(670),Y=a(671),Z=a(672),ee=(a(632),a(412)),te=a.n(ee),ae=W.a.Meta,ne=z()(),re=function(){var e=Object(n.useState)(!1),t=Object(h.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),u=Object(h.a)(s,2),o=u[0],l=u[1],i=Object(n.useState)([]),p=Object(h.a)(i,2),f=p[0],E=p[1],y=Object(n.useState)(!1),j=Object(h.a)(y,2),x=j[0],k=j[1];function S(){return(S=Object(d.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.storage.instance.getItem("boop");case 2:if((t=e.sent)&&t.data){e.next=7;break}return e.abrupt("return");case 7:null!==t.data.value&&(a=t.data.value,l(JSON.parse(a)));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return N.apply(this,arguments)}function N(){return(N=Object(d.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(K.a)(o)).splice(t,1),e.next=4,ne.storage.instance.setItem("boop",JSON.stringify(a));case 4:e.sent,l(a),0===a.length&&c(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){E(!0)}),[]),Object(n.useEffect)((function(){f&&(0===o.length?c(!1):c(!0))}),[o]),Object(n.useEffect)((function(){}),[a]),Object(n.useEffect)((function(){f&&(k(!0),function(){S.apply(this,arguments)}(),k(!1))}),[f]),Object(n.useEffect)((function(){}),[x]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"site-statistic-demo-card"},r.a.createElement(g.a,{gutter:16},r.a.createElement(v.a,{flex:"auto"},r.a.createElement(F.a,{icon:r.a.createElement($.a,{style:{width:"200px"},src:te.a}),title:"Let's begin with Super Search",subTitle:"or you can choose to run a search from the past...",extra:[r.a.createElement(m.b,{to:{pathname:"/search",state:{question:"",searchType:"",searchGroups:["All Groups"],searchColumns:["All Columns"]}},key:"0"},r.a.createElement(O.a,{type:"primary",key:"console",size:"large"},"Go to Super Search")),r.a.createElement(m.b,{to:"/view/history",key:"2"},r.a.createElement(O.a,{key:"history",size:"large"},"View Search History"))]}))),r.a.createElement(g.a,{gutter:16,justify:"center"},r.a.createElement(v.a,{flex:"auto"},r.a.createElement(L.a,{orientation:"left"},r.a.createElement("h3",null,"Saved Searches")),a?r.a.createElement(g.a,{gutter:16},o.map((function(e,t){return r.a.createElement(v.a,{span:6},r.a.createElement(W.a,{actions:[r.a.createElement(m.b,{to:{pathname:"/search",state:{question:e.query,searchType:e.type,searchGroups:e.groups,searchColumns:e.columns}}},r.a.createElement(O.a,{type:"link",icon:r.a.createElement(X.a,null)})),r.a.createElement(O.a,{type:"link",icon:r.a.createElement(Y.a,null),onClick:Object(d.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),value:t})]},r.a.createElement(ae,{avatar:r.a.createElement(Q.a,{style:{backgroundColor:"#eb4034"},icon:r.a.createElement(Z.a,{twoToneColor:"#eb4034"})}),title:e.query,description:r.a.createElement("div",null,e.groups.map((function(e){return r.a.createElement(U.a,{color:"blue"},e)})),e.columns.map((function(e){return r.a.createElement(U.a,{color:"green"},e)})),r.a.createElement("br",null),r.a.createElement(U.a,{color:"red"},e.type))})))}))):r.a.createElement(g.a,{gutter:[16,24]},r.a.createElement(v.a,{flex:"auto"},r.a.createElement(I.a,{description:r.a.createElement("span",null,"Saved searches appear here...")})))))))},ce=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={settings:{},name:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:re,key:"1"}),r.a.createElement(p.a,{exact:!0,path:"/search",component:P,key:"2"}),r.a.createElement(p.a,{exact:!0,path:"/view/history",component:H,key:"3"})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[479,1,2]]]);
//# sourceMappingURL=main.b7af751f.chunk.js.map